"use strict";(self.webpackChunk_apwide_uikit=self.webpackChunk_apwide_uikit||[]).push([[2002],{"./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/Select/KitSelect.vue?vue&type=style&index=0&id=c7a18c84&prod&scoped=true&lang=css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"\n.kit-select__text[data-v-c7a18c84] {\n  cursor: text;\n  position: absolute;\n  left: 6px;\n  right: 45px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.kit-select .kit-select-wrapper[data-v-c7a18c84] {\n  flex-wrap: wrap;\n  padding: 6px 45px 6px 6px;\n  justify-content: normal;\n  outline: none;\n}\n.kit-select-wrapper input[data-v-c7a18c84] {\n  padding: 0;\n}\n.kit-select__flex-wrapper[data-v-c7a18c84] {\n  display: inline-flex;\n  max-width: 100%;\n  flex-wrap: wrap;\n}\n.kit-select__flex-wrapper[gap][data-v-c7a18c84] {\n  margin-top: -4px;\n}\n.kit-select__text [placeholder][data-v-c7a18c84] {\n  color: var(--kit-select-placeholder);\n}\n.kit-select__search[data-v-c7a18c84] {\n  width: 100%;\n  position: relative;\n  z-index: 3;\n}\n[gap] .kit-select__search[data-v-c7a18c84] {\n  margin-top: 4px;\n}\n.kit-select__ghost[data-v-c7a18c84] {\n  opacity: 0.4;\n  background-color: var(--kit-select-ghost-bg-color);\n  pointer-events: none;\n}\n.kit-select[disabled][data-v-c7a18c84] {\n  opacity: 0.7;\n  cursor: not-allowed;\n}\n.kit-select[disabled] .kit-select-wrapper[data-v-c7a18c84] {\n  pointer-events: none;\n}\n.kit-select ~ .kit-select[data-v-c7a18c84] {\n  margin-top: 20px;\n}\n","",{version:3,sources:["webpack://./src/components/Select/KitSelect.vue"],names:[],mappings:";AAqjBA;EACA,YAAA;EACA,kBAAA;EACA,SAAA;EACA,WAAA;EACA,mBAAA;EACA,uBAAA;EACA,gBAAA;AACA;AAEA;EACA,eAAA;EACA,yBAAA;EACA,uBAAA;EACA,aAAA;AACA;AAEA;EACA,UAAA;AACA;AAEA;EACA,oBAAA;EACA,eAAA;EACA,eAAA;AACA;AAEA;EACA,gBAAA;AACA;AAEA;EACA,oCAAA;AACA;AAEA;EACA,WAAA;EACA,kBAAA;EACA,UAAA;AACA;AAEA;EACA,eAAA;AACA;AAEA;EACA,YAAA;EACA,kDAAA;EACA,oBAAA;AACA;AAEA;EACA,YAAA;EACA,mBAAA;AACA;AAEA;EACA,oBAAA;AACA;AAEA;EACA,gBAAA;AACA",sourcesContent:['<template>\n  <div ref="containerRef" :disabled="isDisabled" class="kit-select">\n    <KitTextField\n      :is-focused="focused"\n      :is-invalid="isInvalid"\n      :is-loading="isLoading"\n      :select="select"\n      class="kit-select-wrapper"\n      tabindex="-1"\n      @click="click">\n      <div ref="listRef" :gap="multi && !!selected.length" class="kit-select__flex-wrapper" @dragover.prevent>\n        <template v-if="multi && Array.isArray(selected)">\n          <Tag\n            v-for="(tag, i) in selected"\n            :key="`${tag.id}-${i}`"\n            :count="selected.length"\n            :index="i"\n            :min="min"\n            :tag="tag"\n            :class="tag.class"\n            data-cy="tag"\n            @drag="handleDrag"\n            @dragend="onDragEnd"\n            @dragstart="onDragStart"\n            @on-remove="onRemove">\n            <slot :tag="tag" name="tag" />\n          </Tag>\n        </template>\n        <input\n          ref="inputRef"\n          :disabled="isDisabled"\n          :style="{ width: currentWidth }"\n          :value="search"\n          class="kit-select__search"\n          @blur="onBlur"\n          @focus="onFocus"\n          @input="onInput"\n          @keydown.down.prevent="onNextSuggestion"\n          @keydown.up.prevent="onPreviousSuggestion"\n          @keydown.tab="onTab"\n          @keydown.enter="onSuggestionSelected"\n          @keyup.esc="onEsc"\n          @keydown.delete="removeOption" />\n      </div>\n      <div v-if="!selected.length" class="kit-select__text">\n        <slot\n          v-if="!search && selected.value && $scopedSlots[\'selected\'] && !multi"\n          :selected="selected.value"\n          name="selected" />\n        <span v-else :placeholder="!search && !selected.label">\n          {{ input }}\n        </span>\n      </div>\n      <Icons\n        :createable="createable"\n        :is-clearable="showClearIcon"\n        :is-fetching="isFetching"\n        :is-selected="isAnyOptionSelected"\n        @clear="onClear">\n        <slot name="icon" />\n      </Icons>\n    </KitTextField>\n    <Popper\n      v-if="shouldOpenMenu"\n      :boundaries-element="boundariesElement"\n      :offset="[0, 0]"\n      :target-element="containerRef"\n      placement="bottom-start">\n      <KitSelectMenu\n        :append-to-body="appendToBody"\n        :async="async"\n        :contains-query="!!search"\n        :current-suggestion-index="currentSuggestionIndex"\n        :has-suggestions="hasSuggestions"\n        :is-fetching="isFetching"\n        :no-options-message="noOptionsMessage"\n        :options="suggestions"\n        :placeholder="searchPromptText"\n        :selected="selected"\n        :style="{ width: selectWidth }"\n        data-cy="select-menu"\n        @mouseover="onMouseOverSuggestion"\n        @option-selected="onOptionSelected">\n        <template #option="{ option, isCurrent }">\n          <slot :is-current="isCurrent" :option="option" name="option" />\n        </template>\n        <slot name="custom-action" :search="search" />\n      </KitSelectMenu>\n    </Popper>\n  </div>\n</template>\n\n<script setup lang="ts">\nimport { computed, nextTick, ref, unref, watch } from \'vue\'\nimport { FilterPredicate, Normalizer, Value } from \'@components/Select/types\'\nimport KitTextField from \'../Form/KitTextField.vue\'\nimport Popper from \'../Popper/Popper.vue\'\nimport KitSelectMenu from \'./KitSelectMenu.vue\'\nimport Tag from \'./Tag.vue\'\nimport Icons from \'./Icons.vue\'\n\nconst INPUT_WIDTH = \'5px\'\n\ntype Props = {\n  value?: string | number | string[] | number[] | object | object[]\n  options?: unknown[]\n  placeholder?: string\n  searchPromptText?: string\n  multi?: boolean\n  filterPredicate?: FilterPredicate\n  normalizer?: Normalizer<unknown>\n  isLoading?: boolean\n  isFetching?: boolean\n  isFocused?: boolean\n  isInvalid?: boolean\n  async?: boolean\n  boundariesElement?: string\n  noOptionsMessage?: string\n  createable?: boolean\n  isClearable?: boolean\n  isValidOption?: (option: string) => boolean\n  min?: number\n  max?: number\n  appendToBody?: boolean\n  select?: boolean\n  isDisabled?: boolean\n  fixedSelectWidth?: string\n  openOnFocus?: boolean\n  keepOpenOnSelect?: boolean\n  keepFilterOnSelect?: boolean\n  confirm?: boolean\n  dropdownWidth?: number\n  selectFirstEntry?: boolean\n  allowTabToSelect?: boolean\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  options: () => [],\n  placeholder: \'Type to search...\',\n  searchPromptText: \'Type to search...\',\n  multi: false,\n  filterPredicate:\n    () =>\n    (label = \'\', input = \'\') =>\n      label.toString().toLowerCase().includes(input.toLowerCase().trim()),\n  normalizer: () => (value) => ({\n    id: value,\n    label: value,\n    value,\n    disabled: false\n  }),\n  isLoading: false,\n  isFetching: false,\n  isFocused: false,\n  isInvalid: false,\n  async: false,\n  boundariesElement: \'viewport\',\n  noOptionsMessage: \'No options\',\n  createable: false,\n  isClearable: true,\n  isValidOption: () => true,\n  min: 0,\n  max: Infinity,\n  appendToBody: false,\n  select: true,\n  isDisabled: false,\n  openOnFocus: false,\n  keepOpenOnSelect: false,\n  keepFilterOnSelect: false,\n  confirm: true,\n  selectFirstEntry: false,\n  allowTabToSelect: false\n})\n\nconst emit = defineEmits<{\n  (event: \'search-change\', value: string)\n  (event: \'close\')\n  (event: \'open\')\n  (event: \'cancel\')\n  (event: \'confirm\', e: KeyboardEvent)\n  (event: \'error\')\n  (event: \'focus\', e: FocusEvent)\n  (event: \'blur\', e: FocusEvent)\n  (event: \'input\', e: string | number | object | string[] | number[] | object[])\n}>()\n\nconst isOpen = ref(false)\nconst search = ref(\'\')\nconst focused = ref(false)\nconst currentSuggestionIndex = ref<number>()\nconst currentWidth = ref(INPUT_WIDTH)\nconst isDirty = ref(false)\nconst selectWidth = ref(props.fixedSelectWidth || \'auto\')\nconst draggedElement = ref()\nconst dragging = ref(false)\nconst prevIndex = ref<number>()\n\nconst selected = computed<Value<unknown> | Value<unknown>[]>(() =>\n  props.multi ? (props.value as unknown[]).map((e) => props.normalizer(e)) : props.normalizer(props.value)\n)\nconst normalizedOptions = computed(() => props.options.map((e) => props.normalizer(e)))\nconst input = computed(() => (search.value ? \'\' : selected.value?.label || props.placeholder))\n\nconst nonSelectedSuggestions = computed(() =>\n  props.multi\n    ? normalizedOptions.value.filter((option) => !selected.value.find((selected) => option.id === selected.id))\n    : normalizedOptions.value\n)\n\nconst suggestions = computed(() => {\n  if (search.value && !props.async) {\n    return nonSelectedSuggestions.value.filter((option) => props.filterPredicate(option.label, search.value))\n  }\n  return nonSelectedSuggestions.value\n})\n\nconst hasSuggestions = computed(() => suggestions.value && suggestions.value.length > 0)\n\nconst isAnyOptionSelected = computed(\n  () => (props.multi && !!selected.value.filter((o) => !o.disabled).length) || !!selected.value.value\n)\n\nconst disabled = computed(() => props.multi && selected.value.filter((o) => o.disabled).map((o) => o.value))\n\nconst shouldBackspaceRemoveOption = computed(() => !props.isClearable || (props.multi && selected.value.length === 0))\n\nconst canRemoveLastTag = computed(() => !search.value && selected.value.length > props.min)\n\nconst canClearSelectedOption = computed(() => !search.value && !props.multi && selected.value)\n\nconst canCreateTag = computed(() => props.createable && search.value && selected.value.length < props.max)\n\nconst shouldOpenMenu = computed(\n  () =>\n    isOpen.value && !isDirty.value && !props.createable && (props.max === Infinity || selected.value.length < props.max)\n)\n\nconst nonClearableOptions = computed(() => {\n  if (props.multi) {\n    const min = selected.value.slice(0, props.min).map((o) => o.value)\n    return Array.from(new Set([...disabled.value, ...min]))\n  }\n  return undefined\n})\n\nconst showClearIcon = computed(() => {\n  if (props.multi) {\n    return selected.value.length > props.min\n  }\n  return props.isClearable\n})\n\nconst inputRef = ref<HTMLInputElement>()\nconst containerRef = ref<HTMLElement>()\nconst listRef = ref<HTMLDivElement>()\n\nfunction onFocus(e: FocusEvent) {\n  if (props.isLoading) {\n    return\n  }\n  focused.value = true\n  if (props.openOnFocus && containerRef.value && containerRef.value.contains(e.relatedTarget as Node)) {\n    isOpen.value = true\n  }\n  emit(\'focus\', e)\n}\n\nfunction createTag() {\n  const s = props.multi ? [...selected.value.map((o) => o.value), search.value] : search.value\n  search.value = \'\'\n  emit(\'input\', s)\n}\n\nfunction closeOptions() {\n  isOpen.value = false\n  focused.value = false\n}\n\nfunction onBlur(e: FocusEvent) {\n  if (containerRef.value && !containerRef.value.contains(e.relatedTarget as Node)) {\n    if (canCreateTag.value) {\n      createTag()\n    }\n    search.value = \'\'\n    closeOptions()\n    emit(\'blur\', e)\n  }\n}\n\nfunction click() {\n  isOpen.value = !isOpen.value\n  inputRef.value?.focus()\n}\n\nfunction onEsc() {\n  isOpen.value = false\n  emit(\'cancel\')\n}\n\nasync function onClear() {\n  search.value = \'\'\n  emit(\'input\', nonClearableOptions.value)\n  isOpen.value = false\n  await nextTick()\n  inputRef.value?.focus()\n}\n\nasync function onOptionSelected(option: Value<unknown>) {\n  if (!props.keepFilterOnSelect) {\n    search.value = \'\'\n  }\n  isOpen.value = props.keepOpenOnSelect || false\n  focused.value = true\n  const s = props.multi ? [...selected.value.map((e) => e.value), option.value] : option.value\n  emit(\'input\', s)\n  if (!props.confirm && inputRef.value) {\n    await nextTick()\n    inputRef.value?.blur()\n  }\n}\n\nasync function resize() {\n  await nextTick()\n  if (inputRef.value) {\n    currentWidth.value = `${inputRef.value.scrollWidth}px`\n  }\n}\n\nasync function onInput({ target }) {\n  search.value = target.value\n  isOpen.value = true\n  await resize()\n}\n\nasync function onRemove(id: string) {\n  const selectedValues = unref(selected) as Value<unknown>[]\n  if (!selectedValues.length) {\n    return\n  }\n  const s = selectedValues\n    .filter((option: Value<unknown>) => option.id !== id || option.disabled)\n    .map((option: Value<unknown>) => option.value)\n  emit(\'input\', s)\n  await nextTick()\n}\n\nfunction removeOption() {\n  if (shouldBackspaceRemoveOption.value) {\n    return\n  }\n  if (canRemoveLastTag.value) {\n    const selectedValues = unref(selected) as Value<unknown>[]\n\n    const { id } = selected.value[selectedValues.length - 1]\n    onRemove(id)\n  } else if (canClearSelectedOption.value) {\n    emit(\'input\', undefined)\n  }\n}\n\nfunction onNextSuggestion() {\n  if (!isOpen.value) {\n    isOpen.value = true\n  }\n  if (!hasSuggestions.value) {\n    currentSuggestionIndex.value = undefined\n    return\n  }\n  if (currentSuggestionIndex.value === undefined) {\n    currentSuggestionIndex.value = 0\n  } else {\n    currentSuggestionIndex.value += 1\n    if (currentSuggestionIndex.value > suggestions.value.length - 1) {\n      currentSuggestionIndex.value = 0\n    }\n  }\n}\n\nfunction onPreviousSuggestion() {\n  if (!isOpen.value) {\n    isOpen.value = true\n  }\n  if (!hasSuggestions.value) {\n    currentSuggestionIndex.value = undefined\n    return\n  }\n  if (currentSuggestionIndex.value === undefined) {\n    currentSuggestionIndex.value = suggestions.value.length - 1\n  } else {\n    currentSuggestionIndex.value -= 1\n    if (currentSuggestionIndex.value < 0) {\n      currentSuggestionIndex.value = suggestions.value.length - 1\n    }\n  }\n}\n\nfunction onTab(e) {\n  if (props.allowTabToSelect && isOpen.value) {\n    if (!currentSuggestionIndex.value || suggestions.value.length <= currentSuggestionIndex.value) {\n      if (suggestions.value.length === 1 || props.selectFirstEntry) {\n        currentSuggestionIndex.value = 0\n      }\n    }\n\n    if (\n      typeof currentSuggestionIndex.value !== \'undefined\' &&\n      currentSuggestionIndex.value < suggestions.value.length\n    ) {\n      const option = suggestions.value[currentSuggestionIndex.value]\n      const s = props.multi ? [...(selected.value as Value<unknown>[]).map((e) => e.value), option.value] : option.value\n      // `this.confirm` is bypassed\n      emit(\'input\', s)\n      e.preventDefault()\n\n      if (!props.keepFilterOnSelect) {\n        search.value = \'\'\n      }\n    } else {\n      e.preventDefault()\n    }\n  }\n}\n\nfunction onMouseOverSuggestion(id) {\n  currentSuggestionIndex.value = id\n}\n\nasync function onSuggestionSelected(e) {\n  // if current index is undefined, means we don\'t want to select any value, just submit\n  if (currentSuggestionIndex.value === undefined && !canCreateTag.value) {\n    emit(\'confirm\', e)\n    return\n  }\n  if (canCreateTag.value) {\n    if (!props.isValidOption(search.value)) {\n      emit(\'error\')\n      return\n    }\n    createTag()\n  }\n  e.preventDefault()\n\n  if (!hasSuggestions.value && isOpen.value) {\n    return\n  }\n\n  const option = suggestions.value[currentSuggestionIndex.value]\n  currentSuggestionIndex.value = undefined\n  await nextTick()\n  inputRef.value?.focus()\n  onOptionSelected(option)\n}\n\nfunction handleDrag(e) {\n  if (!draggedElement.value) {\n    return\n  }\n  const x = e.clientX\n  const y = e.clientY\n  const dragged = unref(draggedElement)\n  dragged.classList.add(\'kit-select__ghost\')\n  const el = document.elementFromPoint(x, y)\n  let swapItem = el === null ? dragged : el.closest(\'[draggable="true"]\')\n  if (swapItem) {\n    swapItem = swapItem !== dragged.nextSibling ? swapItem : swapItem.nextSibling\n    listRef.value?.insertBefore(dragged, swapItem)\n  }\n}\n\nfunction onDragEnd() {\n  dragging.value = false\n  const nextIndex = Array.from(listRef.value.children).indexOf(draggedElement.value)\n  draggedElement.value.classList.remove(\'kit-select__ghost\')\n  const list = [...selected.value]\n  const [item] = list.splice(prevIndex.value, 1)\n  list.splice(nextIndex, 0, item)\n  emit(\n    \'input\',\n    list.map((e) => e.value)\n  )\n  inputRef.value?.focus()\n}\n\nfunction onDragStart(e, index) {\n  dragging.value = true\n  isOpen.value = false\n  draggedElement.value = e.target\n  prevIndex.value = index\n}\n\nlet updateInterval\n\nwatch(\n  () => props.isFocused,\n  async (isFocused) => {\n    clearTimeout(updateInterval)\n    if (isFocused) {\n      await nextTick()\n      if (inputRef.value) {\n        inputRef.value.click()\n      }\n    }\n  },\n  { immediate: true }\n)\n\nwatch(search, (search) => {\n  if (!search) {\n    currentWidth.value = INPUT_WIDTH\n  }\n  if (props.async && search) {\n    isDirty.value = true\n  }\n  emit(\'search-change\', search)\n})\n\nwatch(isOpen, (open) => {\n  if (!open) {\n    currentSuggestionIndex.value = undefined\n    emit(\'close\')\n  } else {\n    let width = props.dropdownWidth\n    if (!width && containerRef.value) {\n      width = containerRef.value?.getBoundingClientRect().width\n    }\n    selectWidth.value = props.fixedSelectWidth || `${width}px`\n    emit(\'open\')\n    if (props.selectFirstEntry && hasSuggestions.value) {\n      // default to enable selection of first entry\n      currentSuggestionIndex.value = 0\n    }\n  }\n})\n\nwatch(\n  () => props.isFetching,\n  (isFetching) => {\n    if (!isFetching) {\n      isDirty.value = false\n    }\n  }\n)\n\nwatch(\n  () => props.isLoading,\n  (next, prev) => {\n    if (!next && prev && inputRef.value) {\n      inputRef.value.blur()\n    }\n  }\n)\n\nwatch(suggestions, async () => {\n  if (props.selectFirstEntry) {\n    if (hasSuggestions.value) {\n      // default to enable selection of first entry\n      currentSuggestionIndex.value = 0\n    } else {\n      currentSuggestionIndex.value = undefined\n    }\n  }\n  await nextTick()\n})\n<\/script>\n<style scoped>\n.kit-select__text {\n  cursor: text;\n  position: absolute;\n  left: 6px;\n  right: 45px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.kit-select .kit-select-wrapper {\n  flex-wrap: wrap;\n  padding: 6px 45px 6px 6px;\n  justify-content: normal;\n  outline: none;\n}\n\n.kit-select-wrapper input {\n  padding: 0;\n}\n\n.kit-select__flex-wrapper {\n  display: inline-flex;\n  max-width: 100%;\n  flex-wrap: wrap;\n}\n\n.kit-select__flex-wrapper[gap] {\n  margin-top: -4px;\n}\n\n.kit-select__text [placeholder] {\n  color: var(--kit-select-placeholder);\n}\n\n.kit-select__search {\n  width: 100%;\n  position: relative;\n  z-index: 3;\n}\n\n[gap] .kit-select__search {\n  margin-top: 4px;\n}\n\n.kit-select__ghost {\n  opacity: 0.4;\n  background-color: var(--kit-select-ghost-bg-color);\n  pointer-events: none;\n}\n\n.kit-select[disabled] {\n  opacity: 0.7;\n  cursor: not-allowed;\n}\n\n.kit-select[disabled] .kit-select-wrapper {\n  pointer-events: none;\n}\n\n.kit-select ~ .kit-select {\n  margin-top: 20px;\n}\n</style>\n'],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/Select/KitSelectMenu.vue?vue&type=style&index=0&id=1383b4f2&prod&scoped=true&lang=css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"\n.kit-select-menu[data-v-1383b4f2] {\n  background-color: var(--kit-select-menu-bg-color);\n  box-shadow: var(--kit-overlay-shadow);\n  border: var(--kit-overlay-border);\n  margin-bottom: 8px;\n  margin-top: 0;\n  box-sizing: border-box;\n  border-radius: 4px;\n  width: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1000;\n}\n.kit-select-menu-inner[data-v-1383b4f2] {\n  max-height: 300px;\n  overflow-y: auto;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  box-sizing: border-box;\n}\n.kit-select-menu__no-options[data-v-1383b4f2] {\n  padding: 6px 12px;\n  text-align: center;\n}\n","",{version:3,sources:["webpack://./src/components/Select/KitSelectMenu.vue"],names:[],mappings:";AAoFA;EACA,iDAAA;EACA,qCAAA;EACA,iCAAA;EACA,kBAAA;EACA,aAAA;EACA,sBAAA;EACA,kBAAA;EACA,WAAA;EACA,kBAAA;EACA,MAAA;EACA,OAAA;EACA,aAAA;AACA;AAEA;EACA,iBAAA;EACA,gBAAA;EACA,mBAAA;EACA,gBAAA;EACA,sBAAA;AACA;AAEA;EACA,iBAAA;EACA,kBAAA;AACA",sourcesContent:['<template>\n  <div ref="menuRef" class="kit-select-menu" tabindex="-1" @mousedown.prevent>\n    <div class="kit-select-menu-inner">\n      <KitSelectOption\n        v-for="(item, index) in options"\n        :key="`${item.id}-${index}`"\n        :selected-id="selectedId"\n        :option="item"\n        :index="index"\n        :current-suggestion-index="currentSuggestionIndex"\n        data-cy="select-option"\n        @mouseover="onMouseOver"\n        @option-selected="onOptionSelected">\n        <template #option="{ option, isCurrent }">\n          <slot name="option" :is-current="isCurrent" :option="option" />\n        </template>\n      </KitSelectOption>\n      <div v-if="!hasSuggestions" data-cy="no-options" class="kit-select-menu__no-options">\n        {{ !containsQuery && async ? placeholder : noOptionsMessage }}\n      </div>\n    </div>\n    <div v-if="$slots.default" @mouseover="resetIndex">\n      <slot />\n    </div>\n  </div>\n</template>\n\n<script lang="ts" setup>\nimport { computed, onBeforeUnmount, onMounted, ref } from \'vue\'\nimport type { Value } from \'@components/Select/types\'\nimport KitSelectOption from \'./KitSelectOption.vue\'\n\ntype Props = {\n  options?: Value<unknown>[]\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  selected?: any /* Value<unknown> | Value<unknown>[] error on loading component */\n  currentSuggestionIndex?: number\n  hasSuggestions?: boolean\n  containsQuery?: boolean\n  async?: boolean\n  appendToBody: boolean\n  noOptionsMessage?: string\n  placeholder?: string\n}\n\nconst props = defineProps<Props>()\nconst emit = defineEmits<{\n  (event: \'update-popper-position\')\n  (event: \'option-selected\', selected: Value<unknown>)\n  (event: \'mouseover\', index: number | undefined)\n}>()\n\nconst selectedId = computed(() => (!Array.isArray(props.selected) ? props.selected?.id : undefined))\nconst menuRef = ref<HTMLDivElement>()\n\nonMounted(() => {\n  if (props.appendToBody) {\n    document.body.appendChild(menuRef.value)\n    setTimeout(() => {\n      emit(\'update-popper-position\')\n    }, 0)\n  }\n})\n\nonBeforeUnmount(() => {\n  if (props.appendToBody) {\n    menuRef.value?.remove()\n  }\n})\n\nfunction onOptionSelected(option: Value<unknown>) {\n  emit(\'option-selected\', option)\n}\n\nfunction onMouseOver(index) {\n  emit(\'mouseover\', index)\n}\n\nfunction resetIndex() {\n  emit(\'mouseover\', undefined)\n}\n<\/script>\n\n<style scoped>\n.kit-select-menu {\n  background-color: var(--kit-select-menu-bg-color);\n  box-shadow: var(--kit-overlay-shadow);\n  border: var(--kit-overlay-border);\n  margin-bottom: 8px;\n  margin-top: 0;\n  box-sizing: border-box;\n  border-radius: 4px;\n  width: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1000;\n}\n\n.kit-select-menu-inner {\n  max-height: 300px;\n  overflow-y: auto;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  box-sizing: border-box;\n}\n\n.kit-select-menu__no-options {\n  padding: 6px 12px;\n  text-align: center;\n}\n</style>\n'],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/Select/KitSelectOption.vue?vue&type=style&index=0&id=0fcfd218&prod&scoped=true&lang=css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"\n.kit-select-option[data-v-0fcfd218] {\n  cursor: pointer;\n  display: block;\n  font-size: inherit;\n  width: 100%;\n  box-sizing: border-box;\n  padding: 6px 12px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.kit-select-option[data-v-0fcfd218]:hover {\n   box-shadow: var(--kit-select-option-hover-shadow);\n}\n.kit-select-option[selected][data-v-0fcfd218] {\n  background-color: var(--kit-select-option-selected-bg);\n  color: var(--kit-select-option-selected-text);\n}\n.kit-select-option[selected][data-v-0fcfd218]:hover {\n  background-color: var(--kit-select-option-selected-hover-bg);\n  color: var(--kit-select-option-selected-hover-text);\n}\n.kit-select-option[current][data-v-0fcfd218] {\n  background-color: var(--kit-select-option-current-bg);\n  color: inherit;\n}\n.kit-select-option[isSelected][data-v-0fcfd218] {\n  background-color: var(--kit-select-option-selected-bg);\n}\n","",{version:3,sources:["webpack://./src/components/Select/KitSelectOption.vue"],names:[],mappings:";AA8DA;EACA,eAAA;EACA,cAAA;EACA,kBAAA;EACA,WAAA;EACA,sBAAA;EACA,iBAAA;EACA,mBAAA;EACA,uBAAA;EACA,gBAAA;AACA;AAEA;GACA,iDAAA;AACA;AAEA;EACA,sDAAA;EACA,6CAAA;AACA;AAEA;EACA,4DAAA;EACA,mDAAA;AACA;AAEA;EACA,qDAAA;EACA,cAAA;AACA;AAEA;EACA,sDAAA;AACA",sourcesContent:["<template>\n  <div\n    ref=\"optionRef\"\n    :selected=\"isSelected\"\n    class=\"kit-select-option\"\n    :current=\"current\"\n    @click.stop=\"onOptionSelected\"\n    @mouseover=\"onMouseOver\">\n    <slot name=\"option\" :option=\"option.value\" :is-current=\"current\">\n      {{ option.label }}\n    </slot>\n  </div>\n</template>\n\n<script setup lang=\"ts\" generic=\"T extends { id: number | string }\">\nimport { computed, nextTick, ref, watch } from 'vue'\nimport { Value } from '@components/Select/types'\n\ntype Props = {\n  option: Value<T>\n  index?: number\n  selectedId?: number | string\n  currentSuggestionIndex?: number\n}\n\nconst props = defineProps<Props>()\nconst emit = defineEmits<{\n  (event: 'option-selected', option: Value<T>)\n  (event: 'mouseover', index: number)\n}>()\nconst optionRef = ref<HTMLDivElement>()\nconst isSelected = computed(() => props.selectedId === props.option.id)\nconst current = computed(() => props.currentSuggestionIndex === props.index)\n\nfunction onOptionSelected() {\n  emit('option-selected', props.option)\n}\n\nfunction onMouseOver() {\n  emit('mouseover', props.index)\n}\n\nwatch(current, async (isCurrent) => {\n  if (isCurrent) {\n    await nextTick()\n    if (!optionRef.value) {\n      return\n    }\n    const isMicrosoftBrowser = new RegExp(['MSIE ', 'Edge/'].join('|')).test(navigator.userAgent)\n    if (isMicrosoftBrowser) {\n      return\n    }\n    optionRef.value.scrollIntoView({\n      behavior: 'smooth',\n      block: 'nearest',\n      inline: 'start'\n    })\n  }\n})\n<\/script>\n\n<style scoped>\n.kit-select-option {\n  cursor: pointer;\n  display: block;\n  font-size: inherit;\n  width: 100%;\n  box-sizing: border-box;\n  padding: 6px 12px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.kit-select-option:hover {\n   box-shadow: var(--kit-select-option-hover-shadow);\n}\n\n.kit-select-option[selected] {\n  background-color: var(--kit-select-option-selected-bg);\n  color: var(--kit-select-option-selected-text);\n}\n\n.kit-select-option[selected]:hover {\n  background-color: var(--kit-select-option-selected-hover-bg);\n  color: var(--kit-select-option-selected-hover-text);\n}\n\n.kit-select-option[current] {\n  background-color: var(--kit-select-option-current-bg);\n  color: inherit;\n}\n\n.kit-select-option[isSelected] {\n  background-color: var(--kit-select-option-selected-bg);\n}\n</style>\n"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/Select/Tag.vue?vue&type=style&index=0&id=eca53d9c&prod&scoped=true&lang=css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"\n.tag[data-v-eca53d9c] {\n  background-color: var(--kit-tag-bg);\n  display: inline-flex;\n  align-items: center;\n  min-width: 0;\n  box-sizing: border-box;\n  color: var(--kit-tag-text);\n  max-width: 100%;\n  border-radius: 2px;\n  margin: 4px 2px 0 2px;\n  cursor: pointer;\n  overflow: hidden;\n}\n.tag[data-v-eca53d9c]:last-of-type {\n  margin-right: 5px;\n}\n.label[data-v-eca53d9c] {\n  color: var(--kit-tag-label);\n  font-size: 85%;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  box-sizing: border-box;\n  border-radius: 2px;\n  overflow: hidden;\n  padding: 2px 6px 2px 6px;\n}\n.remove-tag[data-v-eca53d9c] {\n  display: flex;\n  height: 100%;\n  align-items: center;\n  padding-left: 2px;\n  padding-right: 2px;\n  box-sizing: border-box;\n  border-radius: 0px 2px 2px 0px;\n}\n.remove-tag[data-v-eca53d9c]:hover {\n  background-color: var(--kit-tag-remove-bg);\n  color: white;\n}\n","",{version:3,sources:["webpack://./src/components/Select/Tag.vue"],names:[],mappings:";AA8EA;EACA,mCAAA;EACA,oBAAA;EACA,mBAAA;EACA,YAAA;EACA,sBAAA;EACA,0BAAA;EACA,eAAA;EACA,kBAAA;EACA,qBAAA;EACA,eAAA;EACA,gBAAA;AACA;AAEA;EACA,iBAAA;AACA;AAEA;EACA,2BAAA;EACA,cAAA;EACA,uBAAA;EACA,mBAAA;EACA,sBAAA;EACA,kBAAA;EACA,gBAAA;EACA,wBAAA;AACA;AAEA;EACA,aAAA;EACA,YAAA;EACA,mBAAA;EACA,iBAAA;EACA,kBAAA;EACA,sBAAA;EACA,8BAAA;AACA;AAEA;EACA,0CAAA;EACA,YAAA;AACA",sourcesContent:['<template>\n  <div class="tag" draggable="true" @dragstart="onDragStart" @dragend.prevent="onDragEnd" @drag="onDrag">\n    <slot>\n      <div class="label">\n        {{ tag.label }}\n      </div>\n    </slot>\n    <div\n      v-if="shouldShowRemoveButton"\n      ref="remove"\n      class="remove-tag"\n      data-cy="remove-tag"\n      @mousedown.prevent.stop\n      @click.stop="onRemove">\n      <EditorCloseIcon primary-color="var(--kit-tag-label)" size="xsmall" />\n    </div>\n  </div>\n</template>\n\n<script setup lang="ts">\nimport { computed, onBeforeUnmount, onMounted } from \'vue\'\nimport EditorCloseIcon from \'../Icon/aui/EditorCloseIcon\'\n\ntype Props = {\n  tag?: {\n    id?: string | number\n    disabled?: boolean\n  }\n  index: number\n  count: number\n  min?: number\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  tag: () => ({}),\n  min: 0\n})\n\nconst emit = defineEmits<{\n  (event: \'drag\', data: DragEvent)\n  (event: \'on-remove\', data: string | number)\n  (event: \'dragstart\', data: DragEvent)\n  (event: \'dragend\', data: DragEvent)\n}>()\n\nconst shouldShowRemoveButton = computed(() => props.min !== props.count && !props.tag.disabled)\n\nonMounted(() => {\n  document.addEventListener(\'dragover\', onDragOver) // https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n})\n\nonBeforeUnmount(() => {\n  document.removeEventListener(\'dragover\', onDragOver)\n})\n\nfunction onDragOver(e) {\n  emit(\'drag\', e)\n}\n\nfunction onRemove() {\n  emit(\'on-remove\', props.tag.id)\n}\n\nfunction onDragStart(e) {\n  emit(\'dragstart\', e, props.index)\n}\n\nfunction onDragEnd(e) {\n  emit(\'dragend\', e)\n}\n\nfunction onDrag(e) {\n  emit(\'drag\', e)\n}\n\n<\/script>\n\n<style scoped>\n.tag {\n  background-color: var(--kit-tag-bg);\n  display: inline-flex;\n  align-items: center;\n  min-width: 0;\n  box-sizing: border-box;\n  color: var(--kit-tag-text);\n  max-width: 100%;\n  border-radius: 2px;\n  margin: 4px 2px 0 2px;\n  cursor: pointer;\n  overflow: hidden;\n}\n\n.tag:last-of-type {\n  margin-right: 5px;\n}\n\n.label {\n  color: var(--kit-tag-label);\n  font-size: 85%;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  box-sizing: border-box;\n  border-radius: 2px;\n  overflow: hidden;\n  padding: 2px 6px 2px 6px;\n}\n\n.remove-tag {\n  display: flex;\n  height: 100%;\n  align-items: center;\n  padding-left: 2px;\n  padding-right: 2px;\n  box-sizing: border-box;\n  border-radius: 0px 2px 2px 0px;\n}\n\n.remove-tag:hover {\n  background-color: var(--kit-tag-remove-bg);\n  color: white;\n}\n</style>\n'],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./src/components/Icon/aui/EditorCloseIcon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _IconWrapper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/Icon/IconWrapper.vue");const __WEBPACK_DEFAULT_EXPORT__={name:"KitEditorCloseIcon",props:{size:{type:String},primaryColor:{type:String},secondaryColor:{type:String}},render(h){return h(_IconWrapper__WEBPACK_IMPORTED_MODULE_0__.A,{props:{...this.$props},domProps:{innerHTML:'<svg viewBox="0 0 24 24"><path d="M15.185 7.4l-3.184 3.185-3.186-3.186a.507.507 0 0 0-.712.003l-.7.701a.496.496 0 0 0-.004.712l3.185 3.184L7.4 15.185a.507.507 0 0 0 .004.712l.7.7c.206.207.516.2.712.004l3.186-3.185 3.184 3.185a.507.507 0 0 0 .712-.004l.701-.7a.496.496 0 0 0 .003-.712l-3.186-3.186 3.186-3.184a.507.507 0 0 0-.003-.712l-.7-.7a.508.508 0 0 0-.36-.153.5.5 0 0 0-.353.15z" fill="currentColor" fill-rule="evenodd"/></svg>'}})}}},"./src/components/Select/KitSelect.vue":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>KitSelect});var vue_esm=__webpack_require__("./node_modules/vue/dist/vue.esm.js"),KitTextField=__webpack_require__("./src/components/Form/KitTextField.vue"),Popper=__webpack_require__("./src/components/Popper/Popper.vue"),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var f,y,t,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},g=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return g.next=verb(0),g.throw=verb(1),g.return=verb(2),"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};const Select_KitSelectOptionvue_type_script_setup_true_lang_ts_generic_T_20extends_20_7B_20id_3A_20number_20_7C_20string_20_7D=(0,vue_esm.pM)({__name:"KitSelectOption",props:{option:null,index:null,selectedId:null,currentSuggestionIndex:null},emits:["option-selected","mouseover"],setup:function(__props,_a){var _this=this,emit=_a.emit,props=__props,optionRef=(0,vue_esm.KR)(),isSelected=(0,vue_esm.EW)(function(){return props.selectedId===props.option.id}),current=(0,vue_esm.EW)(function(){return props.currentSuggestionIndex===props.index});return(0,vue_esm.wB)(current,function(isCurrent){return __awaiter(_this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return isCurrent?[4,(0,vue_esm.dY)()]:[3,2];case 1:if(_a.sent(),!optionRef.value)return[2];if(new RegExp(["MSIE ","Edge/"].join("|")).test(navigator.userAgent))return[2];optionRef.value.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}),_a.label=2;case 2:return[2]}})})}),{__sfc:!0,props,emit,optionRef,isSelected,current,onOptionSelected:function onOptionSelected(){emit("option-selected",props.option)},onMouseOver:function onMouseOver(){emit("mouseover",props.index)}}}});var injectStylesIntoStyleTag=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),KitSelectOptionvue_type_style_index_0_id_0fcfd218_prod_scoped_true_lang_css=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/Select/KitSelectOption.vue?vue&type=style&index=0&id=0fcfd218&prod&scoped=true&lang=css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(KitSelectOptionvue_type_style_index_0_id_0fcfd218_prod_scoped_true_lang_css.A,options);KitSelectOptionvue_type_style_index_0_id_0fcfd218_prod_scoped_true_lang_css.A&&KitSelectOptionvue_type_style_index_0_id_0fcfd218_prod_scoped_true_lang_css.A.locals&&KitSelectOptionvue_type_style_index_0_id_0fcfd218_prod_scoped_true_lang_css.A.locals;var componentNormalizer=__webpack_require__("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");const __vuedocgen_export_0=(0,componentNormalizer.A)(Select_KitSelectOptionvue_type_script_setup_true_lang_ts_generic_T_20extends_20_7B_20id_3A_20number_20_7C_20string_20_7D,function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c("div",{ref:"optionRef",staticClass:"kit-select-option",attrs:{selected:_setup.isSelected,current:_setup.current},on:{click:function($event){return $event.stopPropagation(),_setup.onOptionSelected.apply(null,arguments)},mouseover:_setup.onMouseOver}},[_vm._t("option",function(){return[_vm._v("\n    "+_vm._s(_vm.option.label)+"\n  ")]},{option:_vm.option.value,isCurrent:_setup.current})],2)},[],!1,null,"0fcfd218",null).exports,KitSelectOption=__vuedocgen_export_0;__vuedocgen_export_0.__docgenInfo={displayName:"KitSelectOption",description:"",tags:{},events:{},methods:[],slots:{option:{description:"",scoped:!0,bindings:{option:"option.value","is-current":"current"}}}};const Select_KitSelectMenuvue_type_script_lang_ts_setup_true=(0,vue_esm.pM)({__name:"KitSelectMenu",props:{options:null,selected:null,currentSuggestionIndex:null,hasSuggestions:{type:Boolean},containsQuery:{type:Boolean},async:{type:Boolean},appendToBody:{type:Boolean},noOptionsMessage:null,placeholder:null},emits:["update-popper-position","option-selected","mouseover"],setup:function(__props,_a){var emit=_a.emit,props=__props,selectedId=(0,vue_esm.EW)(function(){var _a;return Array.isArray(props.selected)||null===(_a=props.selected)||void 0===_a?void 0:_a.id}),menuRef=(0,vue_esm.KR)();return(0,vue_esm.sV)(function(){props.appendToBody&&(document.body.appendChild(menuRef.value),setTimeout(function(){emit("update-popper-position")},0))}),(0,vue_esm.xo)(function(){var _a;props.appendToBody&&(null===(_a=menuRef.value)||void 0===_a||_a.remove())}),{__sfc:!0,props,emit,selectedId,menuRef,onOptionSelected:function onOptionSelected(option){emit("option-selected",option)},onMouseOver:function onMouseOver(index){emit("mouseover",index)},resetIndex:function resetIndex(){emit("mouseover",void 0)},KitSelectOption}}});var KitSelectMenuvue_type_style_index_0_id_1383b4f2_prod_scoped_true_lang_css=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/Select/KitSelectMenu.vue?vue&type=style&index=0&id=1383b4f2&prod&scoped=true&lang=css"),KitSelectMenuvue_type_style_index_0_id_1383b4f2_prod_scoped_true_lang_css_options={};KitSelectMenuvue_type_style_index_0_id_1383b4f2_prod_scoped_true_lang_css_options.styleTagTransform=styleTagTransform_default(),KitSelectMenuvue_type_style_index_0_id_1383b4f2_prod_scoped_true_lang_css_options.setAttributes=setAttributesWithoutAttributes_default(),KitSelectMenuvue_type_style_index_0_id_1383b4f2_prod_scoped_true_lang_css_options.insert=insertBySelector_default().bind(null,"head"),KitSelectMenuvue_type_style_index_0_id_1383b4f2_prod_scoped_true_lang_css_options.domAPI=styleDomAPI_default(),KitSelectMenuvue_type_style_index_0_id_1383b4f2_prod_scoped_true_lang_css_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(KitSelectMenuvue_type_style_index_0_id_1383b4f2_prod_scoped_true_lang_css.A,KitSelectMenuvue_type_style_index_0_id_1383b4f2_prod_scoped_true_lang_css_options);KitSelectMenuvue_type_style_index_0_id_1383b4f2_prod_scoped_true_lang_css.A&&KitSelectMenuvue_type_style_index_0_id_1383b4f2_prod_scoped_true_lang_css.A.locals&&KitSelectMenuvue_type_style_index_0_id_1383b4f2_prod_scoped_true_lang_css.A.locals;const KitSelectMenu_vuedocgen_export_0=(0,componentNormalizer.A)(Select_KitSelectMenuvue_type_script_lang_ts_setup_true,function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c("div",{ref:"menuRef",staticClass:"kit-select-menu",attrs:{tabindex:"-1"},on:{mousedown:function($event){$event.preventDefault()}}},[_c("div",{staticClass:"kit-select-menu-inner"},[_vm._l(_vm.options,function(item,index){return _c(_setup.KitSelectOption,{key:`${item.id}-${index}`,attrs:{"selected-id":_setup.selectedId,option:item,index,"current-suggestion-index":_vm.currentSuggestionIndex,"data-cy":"select-option"},on:{mouseover:_setup.onMouseOver,"option-selected":_setup.onOptionSelected},scopedSlots:_vm._u([{key:"option",fn:function({option,isCurrent}){return[_vm._t("option",null,{isCurrent,option})]}}],null,!0)})}),_vm._v(" "),_vm.hasSuggestions?_vm._e():_c("div",{staticClass:"kit-select-menu__no-options",attrs:{"data-cy":"no-options"}},[_vm._v("\n      "+_vm._s(!_vm.containsQuery&&_vm.async?_vm.placeholder:_vm.noOptionsMessage)+"\n    ")])],2),_vm._v(" "),_vm.$slots.default?_c("div",{on:{mouseover:_setup.resetIndex}},[_vm._t("default")],2):_vm._e()])},[],!1,null,"1383b4f2",null).exports,KitSelectMenu=KitSelectMenu_vuedocgen_export_0;KitSelectMenu_vuedocgen_export_0.__docgenInfo={displayName:"KitSelectMenu",description:"",tags:{},events:{},methods:[],slots:{option:{description:"",scoped:!0,bindings:{"is-current":"isCurrent",option:"option"}},default:{description:"",bindings:{}}}};var EditorCloseIcon=__webpack_require__("./src/components/Icon/aui/EditorCloseIcon.js");const Select_Tagvue_type_script_setup_true_lang_ts=(0,vue_esm.pM)({__name:"Tag",props:{tag:{default:function(){return{}}},index:null,count:null,min:{default:0}},emits:["drag","on-remove","dragstart","dragend"],setup:function(__props,_a){var emit=_a.emit,props=__props,shouldShowRemoveButton=(0,vue_esm.EW)(function(){return props.min!==props.count&&!props.tag.disabled});function onDragOver(e){emit("drag",e)}return(0,vue_esm.sV)(function(){document.addEventListener("dragover",onDragOver)}),(0,vue_esm.xo)(function(){document.removeEventListener("dragover",onDragOver)}),{__sfc:!0,props,emit,shouldShowRemoveButton,onDragOver,onRemove:function onRemove(){emit("on-remove",props.tag.id)},onDragStart:function onDragStart(e){emit("dragstart",e,props.index)},onDragEnd:function onDragEnd(e){emit("dragend",e)},onDrag:function onDrag(e){emit("drag",e)},EditorCloseIcon:EditorCloseIcon.A}}});var Tagvue_type_style_index_0_id_eca53d9c_prod_scoped_true_lang_css=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/Select/Tag.vue?vue&type=style&index=0&id=eca53d9c&prod&scoped=true&lang=css"),Tagvue_type_style_index_0_id_eca53d9c_prod_scoped_true_lang_css_options={};Tagvue_type_style_index_0_id_eca53d9c_prod_scoped_true_lang_css_options.styleTagTransform=styleTagTransform_default(),Tagvue_type_style_index_0_id_eca53d9c_prod_scoped_true_lang_css_options.setAttributes=setAttributesWithoutAttributes_default(),Tagvue_type_style_index_0_id_eca53d9c_prod_scoped_true_lang_css_options.insert=insertBySelector_default().bind(null,"head"),Tagvue_type_style_index_0_id_eca53d9c_prod_scoped_true_lang_css_options.domAPI=styleDomAPI_default(),Tagvue_type_style_index_0_id_eca53d9c_prod_scoped_true_lang_css_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(Tagvue_type_style_index_0_id_eca53d9c_prod_scoped_true_lang_css.A,Tagvue_type_style_index_0_id_eca53d9c_prod_scoped_true_lang_css_options);Tagvue_type_style_index_0_id_eca53d9c_prod_scoped_true_lang_css.A&&Tagvue_type_style_index_0_id_eca53d9c_prod_scoped_true_lang_css.A.locals&&Tagvue_type_style_index_0_id_eca53d9c_prod_scoped_true_lang_css.A.locals;const Tag_vuedocgen_export_0=(0,componentNormalizer.A)(Select_Tagvue_type_script_setup_true_lang_ts,function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c("div",{staticClass:"tag",attrs:{draggable:"true"},on:{dragstart:_setup.onDragStart,dragend:function($event){return $event.preventDefault(),_setup.onDragEnd.apply(null,arguments)},drag:_setup.onDrag}},[_vm._t("default",function(){return[_c("div",{staticClass:"label"},[_vm._v("\n      "+_vm._s(_vm.tag.label)+"\n    ")])]}),_vm._v(" "),_setup.shouldShowRemoveButton?_c("div",{ref:"remove",staticClass:"remove-tag",attrs:{"data-cy":"remove-tag"},on:{mousedown:function($event){$event.preventDefault(),$event.stopPropagation()},click:function($event){return $event.stopPropagation(),_setup.onRemove.apply(null,arguments)}}},[_c(_setup.EditorCloseIcon,{attrs:{"primary-color":"var(--kit-tag-label)",size:"xsmall"}})],1):_vm._e()],2)},[],!1,null,"eca53d9c",null).exports,Tag=Tag_vuedocgen_export_0;Tag_vuedocgen_export_0.__docgenInfo={displayName:"Tag",description:"",tags:{},events:{},methods:[],slots:{default:{description:"",bindings:{}}}};var Icons=__webpack_require__("./src/components/Select/Icons.vue"),KitSelectvue_type_script_setup_true_lang_ts_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},KitSelectvue_type_script_setup_true_lang_ts_generator=function(thisArg,body){var f,y,t,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},g=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return g.next=verb(0),g.throw=verb(1),g.return=verb(2),"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__spreadArray=function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))};const Select_KitSelectvue_type_script_setup_true_lang_ts=(0,vue_esm.pM)({__name:"KitSelect",props:{value:null,options:{default:function(){return[]}},placeholder:{default:"Type to search..."},searchPromptText:{default:"Type to search..."},multi:{type:Boolean,default:!1},filterPredicate:{default:function(){return function(label,input){return void 0===label&&(label=""),void 0===input&&(input=""),label.toString().toLowerCase().includes(input.toLowerCase().trim())}}},normalizer:{default:function(){return function(value){return{id:value,label:value,value,disabled:!1}}}},isLoading:{type:Boolean,default:!1},isFetching:{type:Boolean,default:!1},isFocused:{type:Boolean,default:!1},isInvalid:{type:Boolean,default:!1},async:{type:Boolean,default:!1},boundariesElement:{default:"viewport"},noOptionsMessage:{default:"No options"},createable:{type:Boolean,default:!1},isClearable:{type:Boolean,default:!0},isValidOption:{type:Function,default:function(){return!0}},min:{default:0},max:{default:1/0},appendToBody:{type:Boolean,default:!1},select:{type:Boolean,default:!0},isDisabled:{type:Boolean,default:!1},fixedSelectWidth:null,openOnFocus:{type:Boolean,default:!1},keepOpenOnSelect:{type:Boolean,default:!1},keepFilterOnSelect:{type:Boolean,default:!1},confirm:{type:Boolean,default:!0},dropdownWidth:null,selectFirstEntry:{type:Boolean,default:!1},allowTabToSelect:{type:Boolean,default:!1}},emits:["search-change","close","open","cancel","confirm","error","focus","blur","input"],setup:function(__props,_a){var _this=this,emit=_a.emit,props=__props,isOpen=(0,vue_esm.KR)(!1),search=(0,vue_esm.KR)(""),focused=(0,vue_esm.KR)(!1),currentSuggestionIndex=(0,vue_esm.KR)(),currentWidth=(0,vue_esm.KR)("5px"),isDirty=(0,vue_esm.KR)(!1),selectWidth=(0,vue_esm.KR)(props.fixedSelectWidth||"auto"),draggedElement=(0,vue_esm.KR)(),dragging=(0,vue_esm.KR)(!1),prevIndex=(0,vue_esm.KR)(),selected=(0,vue_esm.EW)(function(){return props.multi?props.value.map(function(e){return props.normalizer(e)}):props.normalizer(props.value)}),normalizedOptions=(0,vue_esm.EW)(function(){return props.options.map(function(e){return props.normalizer(e)})}),input=(0,vue_esm.EW)(function(){var _a;return search.value?"":(null===(_a=selected.value)||void 0===_a?void 0:_a.label)||props.placeholder}),nonSelectedSuggestions=(0,vue_esm.EW)(function(){return props.multi?normalizedOptions.value.filter(function(option){return!selected.value.find(function(selected){return option.id===selected.id})}):normalizedOptions.value}),suggestions=(0,vue_esm.EW)(function(){return search.value&&!props.async?nonSelectedSuggestions.value.filter(function(option){return props.filterPredicate(option.label,search.value)}):nonSelectedSuggestions.value}),hasSuggestions=(0,vue_esm.EW)(function(){return suggestions.value&&suggestions.value.length>0}),isAnyOptionSelected=(0,vue_esm.EW)(function(){return props.multi&&!!selected.value.filter(function(o){return!o.disabled}).length||!!selected.value.value}),disabled=(0,vue_esm.EW)(function(){return props.multi&&selected.value.filter(function(o){return o.disabled}).map(function(o){return o.value})}),shouldBackspaceRemoveOption=(0,vue_esm.EW)(function(){return!props.isClearable||props.multi&&0===selected.value.length}),canRemoveLastTag=(0,vue_esm.EW)(function(){return!search.value&&selected.value.length>props.min}),canClearSelectedOption=(0,vue_esm.EW)(function(){return!search.value&&!props.multi&&selected.value}),canCreateTag=(0,vue_esm.EW)(function(){return props.createable&&search.value&&selected.value.length<props.max}),shouldOpenMenu=(0,vue_esm.EW)(function(){return isOpen.value&&!isDirty.value&&!props.createable&&(props.max===1/0||selected.value.length<props.max)}),nonClearableOptions=(0,vue_esm.EW)(function(){if(props.multi){var min=selected.value.slice(0,props.min).map(function(o){return o.value});return Array.from(new Set(__spreadArray(__spreadArray([],disabled.value,!0),min,!0)))}}),showClearIcon=(0,vue_esm.EW)(function(){return props.multi?selected.value.length>props.min:props.isClearable}),inputRef=(0,vue_esm.KR)(),containerRef=(0,vue_esm.KR)(),listRef=(0,vue_esm.KR)();function createTag(){var s=props.multi?__spreadArray(__spreadArray([],selected.value.map(function(o){return o.value}),!0),[search.value],!1):search.value;search.value="",emit("input",s)}function closeOptions(){isOpen.value=!1,focused.value=!1}function onOptionSelected(option){return KitSelectvue_type_script_setup_true_lang_ts_awaiter(this,void 0,void 0,function(){var s,_a;return KitSelectvue_type_script_setup_true_lang_ts_generator(this,function(_b){switch(_b.label){case 0:return props.keepFilterOnSelect||(search.value=""),isOpen.value=props.keepOpenOnSelect||!1,focused.value=!0,s=props.multi?__spreadArray(__spreadArray([],selected.value.map(function(e){return e.value}),!0),[option.value],!1):option.value,emit("input",s),props.confirm||!inputRef.value?[3,2]:[4,(0,vue_esm.dY)()];case 1:_b.sent(),null===(_a=inputRef.value)||void 0===_a||_a.blur(),_b.label=2;case 2:return[2]}})})}function resize(){return KitSelectvue_type_script_setup_true_lang_ts_awaiter(this,void 0,void 0,function(){return KitSelectvue_type_script_setup_true_lang_ts_generator(this,function(_a){switch(_a.label){case 0:return[4,(0,vue_esm.dY)()];case 1:return _a.sent(),inputRef.value&&(currentWidth.value="".concat(inputRef.value.scrollWidth,"px")),[2]}})})}function onRemove(id){return KitSelectvue_type_script_setup_true_lang_ts_awaiter(this,void 0,void 0,function(){var selectedValues,s;return KitSelectvue_type_script_setup_true_lang_ts_generator(this,function(_a){switch(_a.label){case 0:return(selectedValues=(0,vue_esm.R1)(selected)).length?(s=selectedValues.filter(function(option){return option.id!==id||option.disabled}).map(function(option){return option.value}),emit("input",s),[4,(0,vue_esm.dY)()]):[2];case 1:return _a.sent(),[2]}})})}return(0,vue_esm.wB)(function(){return props.isFocused},function(isFocused){return KitSelectvue_type_script_setup_true_lang_ts_awaiter(_this,void 0,void 0,function(){return KitSelectvue_type_script_setup_true_lang_ts_generator(this,function(_a){switch(_a.label){case 0:return clearTimeout(undefined),isFocused?[4,(0,vue_esm.dY)()]:[3,2];case 1:_a.sent(),inputRef.value&&inputRef.value.click(),_a.label=2;case 2:return[2]}})})},{immediate:!0}),(0,vue_esm.wB)(search,function(search){search||(currentWidth.value="5px"),props.async&&search&&(isDirty.value=!0),emit("search-change",search)}),(0,vue_esm.wB)(isOpen,function(open){var _a;if(open){var width=props.dropdownWidth;!width&&containerRef.value&&(width=null===(_a=containerRef.value)||void 0===_a?void 0:_a.getBoundingClientRect().width),selectWidth.value=props.fixedSelectWidth||"".concat(width,"px"),emit("open"),props.selectFirstEntry&&hasSuggestions.value&&(currentSuggestionIndex.value=0)}else currentSuggestionIndex.value=void 0,emit("close")}),(0,vue_esm.wB)(function(){return props.isFetching},function(isFetching){isFetching||(isDirty.value=!1)}),(0,vue_esm.wB)(function(){return props.isLoading},function(next,prev){!next&&prev&&inputRef.value&&inputRef.value.blur()}),(0,vue_esm.wB)(suggestions,function(){return KitSelectvue_type_script_setup_true_lang_ts_awaiter(_this,void 0,void 0,function(){return KitSelectvue_type_script_setup_true_lang_ts_generator(this,function(_a){switch(_a.label){case 0:return props.selectFirstEntry&&(hasSuggestions.value?currentSuggestionIndex.value=0:currentSuggestionIndex.value=void 0),[4,(0,vue_esm.dY)()];case 1:return _a.sent(),[2]}})})}),{__sfc:!0,INPUT_WIDTH:"5px",props,emit,isOpen,search,focused,currentSuggestionIndex,currentWidth,isDirty,selectWidth,draggedElement,dragging,prevIndex,selected,normalizedOptions,input,nonSelectedSuggestions,suggestions,hasSuggestions,isAnyOptionSelected,disabled,shouldBackspaceRemoveOption,canRemoveLastTag,canClearSelectedOption,canCreateTag,shouldOpenMenu,nonClearableOptions,showClearIcon,inputRef,containerRef,listRef,onFocus:function onFocus(e){props.isLoading||(focused.value=!0,props.openOnFocus&&containerRef.value&&containerRef.value.contains(e.relatedTarget)&&(isOpen.value=!0),emit("focus",e))},createTag,closeOptions,onBlur:function onBlur(e){containerRef.value&&!containerRef.value.contains(e.relatedTarget)&&(canCreateTag.value&&createTag(),search.value="",closeOptions(),emit("blur",e))},click:function click(){var _a;isOpen.value=!isOpen.value,null===(_a=inputRef.value)||void 0===_a||_a.focus()},onEsc:function onEsc(){isOpen.value=!1,emit("cancel")},onClear:function onClear(){return KitSelectvue_type_script_setup_true_lang_ts_awaiter(this,void 0,void 0,function(){var _a;return KitSelectvue_type_script_setup_true_lang_ts_generator(this,function(_b){switch(_b.label){case 0:return search.value="",emit("input",nonClearableOptions.value),isOpen.value=!1,[4,(0,vue_esm.dY)()];case 1:return _b.sent(),null===(_a=inputRef.value)||void 0===_a||_a.focus(),[2]}})})},onOptionSelected,resize,onInput:function onInput(_a){return KitSelectvue_type_script_setup_true_lang_ts_awaiter(this,arguments,void 0,function(_b){var target=_b.target;return KitSelectvue_type_script_setup_true_lang_ts_generator(this,function(_c){switch(_c.label){case 0:return search.value=target.value,isOpen.value=!0,[4,resize()];case 1:return _c.sent(),[2]}})})},onRemove,removeOption:function removeOption(){if(!shouldBackspaceRemoveOption.value)if(canRemoveLastTag.value){var selectedValues=(0,vue_esm.R1)(selected);onRemove(selected.value[selectedValues.length-1].id)}else canClearSelectedOption.value&&emit("input",void 0)},onNextSuggestion:function onNextSuggestion(){isOpen.value||(isOpen.value=!0),hasSuggestions.value?void 0===currentSuggestionIndex.value?currentSuggestionIndex.value=0:(currentSuggestionIndex.value+=1,currentSuggestionIndex.value>suggestions.value.length-1&&(currentSuggestionIndex.value=0)):currentSuggestionIndex.value=void 0},onPreviousSuggestion:function onPreviousSuggestion(){isOpen.value||(isOpen.value=!0),hasSuggestions.value?void 0===currentSuggestionIndex.value?currentSuggestionIndex.value=suggestions.value.length-1:(currentSuggestionIndex.value-=1,currentSuggestionIndex.value<0&&(currentSuggestionIndex.value=suggestions.value.length-1)):currentSuggestionIndex.value=void 0},onTab:function onTab(e){if(props.allowTabToSelect&&isOpen.value)if((!currentSuggestionIndex.value||suggestions.value.length<=currentSuggestionIndex.value)&&(1===suggestions.value.length||props.selectFirstEntry)&&(currentSuggestionIndex.value=0),void 0!==currentSuggestionIndex.value&&currentSuggestionIndex.value<suggestions.value.length){var option=suggestions.value[currentSuggestionIndex.value],s=props.multi?__spreadArray(__spreadArray([],selected.value.map(function(e){return e.value}),!0),[option.value],!1):option.value;emit("input",s),e.preventDefault(),props.keepFilterOnSelect||(search.value="")}else e.preventDefault()},onMouseOverSuggestion:function onMouseOverSuggestion(id){currentSuggestionIndex.value=id},onSuggestionSelected:function onSuggestionSelected(e){return KitSelectvue_type_script_setup_true_lang_ts_awaiter(this,void 0,void 0,function(){var option,_a;return KitSelectvue_type_script_setup_true_lang_ts_generator(this,function(_b){switch(_b.label){case 0:if(void 0===currentSuggestionIndex.value&&!canCreateTag.value)return emit("confirm",e),[2];if(canCreateTag.value){if(!props.isValidOption(search.value))return emit("error"),[2];createTag()}return e.preventDefault(),!hasSuggestions.value&&isOpen.value?[2]:(option=suggestions.value[currentSuggestionIndex.value],currentSuggestionIndex.value=void 0,[4,(0,vue_esm.dY)()]);case 1:return _b.sent(),null===(_a=inputRef.value)||void 0===_a||_a.focus(),onOptionSelected(option),[2]}})})},handleDrag:function handleDrag(e){var _a;if(draggedElement.value){var x=e.clientX,y=e.clientY,dragged=(0,vue_esm.R1)(draggedElement);dragged.classList.add("kit-select__ghost");var el=document.elementFromPoint(x,y),swapItem=null===el?dragged:el.closest('[draggable="true"]');swapItem&&(swapItem=swapItem!==dragged.nextSibling?swapItem:swapItem.nextSibling,null===(_a=listRef.value)||void 0===_a||_a.insertBefore(dragged,swapItem))}},onDragEnd:function onDragEnd(){var _a;dragging.value=!1;var nextIndex=Array.from(listRef.value.children).indexOf(draggedElement.value);draggedElement.value.classList.remove("kit-select__ghost");var list=__spreadArray([],selected.value,!0),item=list.splice(prevIndex.value,1)[0];list.splice(nextIndex,0,item),emit("input",list.map(function(e){return e.value})),null===(_a=inputRef.value)||void 0===_a||_a.focus()},onDragStart:function onDragStart(e,index){dragging.value=!0,isOpen.value=!1,draggedElement.value=e.target,prevIndex.value=index},updateInterval:undefined,KitTextField:KitTextField.A,Popper:Popper.A,KitSelectMenu,Tag,Icons:Icons.A}}});var KitSelectvue_type_style_index_0_id_c7a18c84_prod_scoped_true_lang_css=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/cjs.js??clonedRuleSet-11.use[1]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/components/Select/KitSelect.vue?vue&type=style&index=0&id=c7a18c84&prod&scoped=true&lang=css"),KitSelectvue_type_style_index_0_id_c7a18c84_prod_scoped_true_lang_css_options={};KitSelectvue_type_style_index_0_id_c7a18c84_prod_scoped_true_lang_css_options.styleTagTransform=styleTagTransform_default(),KitSelectvue_type_style_index_0_id_c7a18c84_prod_scoped_true_lang_css_options.setAttributes=setAttributesWithoutAttributes_default(),KitSelectvue_type_style_index_0_id_c7a18c84_prod_scoped_true_lang_css_options.insert=insertBySelector_default().bind(null,"head"),KitSelectvue_type_style_index_0_id_c7a18c84_prod_scoped_true_lang_css_options.domAPI=styleDomAPI_default(),KitSelectvue_type_style_index_0_id_c7a18c84_prod_scoped_true_lang_css_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(KitSelectvue_type_style_index_0_id_c7a18c84_prod_scoped_true_lang_css.A,KitSelectvue_type_style_index_0_id_c7a18c84_prod_scoped_true_lang_css_options);KitSelectvue_type_style_index_0_id_c7a18c84_prod_scoped_true_lang_css.A&&KitSelectvue_type_style_index_0_id_c7a18c84_prod_scoped_true_lang_css.A.locals&&KitSelectvue_type_style_index_0_id_c7a18c84_prod_scoped_true_lang_css.A.locals;const KitSelect_vuedocgen_export_0=(0,componentNormalizer.A)(Select_KitSelectvue_type_script_setup_true_lang_ts,function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c("div",{ref:"containerRef",staticClass:"kit-select",attrs:{disabled:_vm.isDisabled}},[_c(_setup.KitTextField,{staticClass:"kit-select-wrapper",attrs:{"is-focused":_setup.focused,"is-invalid":_vm.isInvalid,"is-loading":_vm.isLoading,select:_vm.select,tabindex:"-1"},on:{click:_setup.click}},[_c("div",{ref:"listRef",staticClass:"kit-select__flex-wrapper",attrs:{gap:_vm.multi&&!!_setup.selected.length},on:{dragover:function($event){$event.preventDefault()}}},[_vm.multi&&Array.isArray(_setup.selected)?_vm._l(_setup.selected,function(tag,i){return _c(_setup.Tag,{key:`${tag.id}-${i}`,class:tag.class,attrs:{count:_setup.selected.length,index:i,min:_vm.min,tag,"data-cy":"tag"},on:{drag:_setup.handleDrag,dragend:_setup.onDragEnd,dragstart:_setup.onDragStart,"on-remove":_setup.onRemove}},[_vm._t("tag",null,{tag})],2)}):_vm._e(),_vm._v(" "),_c("input",{ref:"inputRef",staticClass:"kit-select__search",style:{width:_setup.currentWidth},attrs:{disabled:_vm.isDisabled},domProps:{value:_setup.search},on:{blur:_setup.onBlur,focus:_setup.onFocus,input:_setup.onInput,keydown:[function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"down",40,$event.key,["Down","ArrowDown"])?null:($event.preventDefault(),_setup.onNextSuggestion.apply(null,arguments))},function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"up",38,$event.key,["Up","ArrowUp"])?null:($event.preventDefault(),_setup.onPreviousSuggestion.apply(null,arguments))},function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"tab",9,$event.key,"Tab")?null:_setup.onTab.apply(null,arguments)},function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_setup.onSuggestionSelected.apply(null,arguments)},function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"delete",[8,46],$event.key,["Backspace","Delete","Del"])?null:_setup.removeOption.apply(null,arguments)}],keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"esc",27,$event.key,["Esc","Escape"])?null:_setup.onEsc.apply(null,arguments)}}})],2),_vm._v(" "),_setup.selected.length?_vm._e():_c("div",{staticClass:"kit-select__text"},[!_setup.search&&_setup.selected.value&&_vm.$scopedSlots.selected&&!_vm.multi?_vm._t("selected",null,{selected:_setup.selected.value}):_c("span",{attrs:{placeholder:!_setup.search&&!_setup.selected.label}},[_vm._v("\n        "+_vm._s(_setup.input)+"\n      ")])],2),_vm._v(" "),_c(_setup.Icons,{attrs:{createable:_vm.createable,"is-clearable":_setup.showClearIcon,"is-fetching":_vm.isFetching,"is-selected":_setup.isAnyOptionSelected},on:{clear:_setup.onClear}},[_vm._t("icon")],2)],1),_vm._v(" "),_setup.shouldOpenMenu?_c(_setup.Popper,{attrs:{"boundaries-element":_vm.boundariesElement,offset:[0,0],"target-element":_setup.containerRef,placement:"bottom-start"}},[_c(_setup.KitSelectMenu,{style:{width:_setup.selectWidth},attrs:{"append-to-body":_vm.appendToBody,async:_vm.async,"contains-query":!!_setup.search,"current-suggestion-index":_setup.currentSuggestionIndex,"has-suggestions":_setup.hasSuggestions,"is-fetching":_vm.isFetching,"no-options-message":_vm.noOptionsMessage,options:_setup.suggestions,placeholder:_vm.searchPromptText,selected:_setup.selected,"data-cy":"select-menu"},on:{mouseover:_setup.onMouseOverSuggestion,"option-selected":_setup.onOptionSelected},scopedSlots:_vm._u([{key:"option",fn:function({option,isCurrent}){return[_vm._t("option",null,{isCurrent,option})]}}],null,!0)},[_vm._v(" "),_vm._t("custom-action",null,{search:_setup.search})],2)],1):_vm._e()],1)},[],!1,null,"c7a18c84",null).exports,KitSelect=KitSelect_vuedocgen_export_0;KitSelect_vuedocgen_export_0.__docgenInfo={displayName:"KitSelect",description:"",tags:{},events:{},methods:[],slots:{tag:{description:"",scoped:!0,bindings:{tag:"tag"}},selected:{description:"",scoped:!0,bindings:{selected:"selected.value"}},icon:{description:"",bindings:{}},"custom-action":{description:"",scoped:!0,bindings:{search:"search"}},option:{description:"",scoped:!0,bindings:{"is-current":"isCurrent",option:"option"}}}}}}]);